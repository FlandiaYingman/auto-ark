# 自动方舟（auto-ark）

自动方舟是一款仅为学习交流使用的的明日方舟辅助软件，致力于**全自动**化。

与其它的辅助软件不同，自动方舟是被设计在服务器（Windows Server）上工作的。自动方舟没有 GUI，所有交互均由配置文件管理，这使得它在与 Task Scheduler 一同使用时尤为方便。

如果你对于本软件有什么问题或建议，请提一个 issue 或 pull request！

# 特性

- 全自动，可以使用 Windows 上的 Task Scheduler 来计划运行！

# 第一次运行

环境要求：

- JDK 17
- BlueStacks 5 模拟器

如果没有在模拟器上安装明日方舟，可以运行自动方舟来安装它（你也可以选择手动安装）。 在第一次运行自动方舟之后，它崩溃了！这是为什么？ 因为，要成功运行自动方舟，必须先稍微配置一下明日方舟。

- 登录你的账号，这样自动方舟不需要知道你的账号和密码即可登录。
- 进入明日方舟的设置：（可选）调整你需要的画质（建议为低画质、30帧、关闭动态形象）；关闭“基建退出提示”。

完成了！ 现在，再一次运行自动方舟吧。 如果你想的话，也可以编辑 `config.yaml` 来配置自动方舟；或编辑 `savedata.yaml` 来配置自动方舟的计划。 你不需要关闭模拟器再运行自动方舟。
无论模拟器和明日方舟是什么状态，自动方舟都能适应。

## 编译方式

环境要求：JDK 17。

首先，克隆本仓库：

```shell
git clone --recurse-submodules --depth 1 https://github.com/FlandiaYingman/auto-ark.git
cd auto-ark
```

然后使用 `gradlew` 编译：

```shell
./gradlew build
```

若要启动，则：

```shell
./gradlew run
```

# 目前支持的功能

## 更新（Update）

自动更新明日方舟。在大版本更新时，自动方舟会自动下载最新的明日方舟安装包并自动安装；在小版本更新时，自动方舟会等待其更新完毕。

## 登录（Login）

自动登录明日方舟。本模块的登录不包括输入账号及密码等隐私功能（考虑到安全性问题），而是使用此前已登陆过的账户进行操作。如果需要多账号操作，请使用模拟器自带的多开功能。

## 行动（Operate）

行动，翻译成人能听得懂的话就是刷关卡。目前支持的关卡有：作战记录、龙门币、技巧概要、四种芯片及芯片组、主线 1-7、剿灭作战（龙门外环）和大部分活动关卡的后两到三关（蓝色材料）。

## 基建（RIIC）

自动收取基建生产；自动换班（排前面的干员优先）。此外，还会把所有线索全都扔给第一个好友。

## 商店（Store）

自动领取信用点，并且以自左往右、从上到下的顺序购买所有物品，直到信用不足。

## 任务（Mission）

自动领取所有能领取的任务奖励。

## 招募（Recruit）

> 警告：本模块不保证识别率达到 100%，同时也不为任何可能遗漏的“高级资深干员”标签负责。

自动“公开招募”。本模块以从左到右、自上往下的顺序遍历所有的“公开招募”槽位。其遵循以下原则：

- 若某个槽位最低可招募三星干员，且能够刷新标签，则刷新。
- 保证最低可能招募的干员稀有度最高。
- 若存在“高级资深干员”标签，不对该槽位做任何处理。